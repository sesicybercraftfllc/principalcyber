<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cybercraft</title>
    <style>
        /* PALETA DE CORES TERROSAS */
        :root {
            --cor-background: #f7f4e9; /* Bege claro / Off-White */
            --cor-principal: #6b4423;    /* Marrom Cafﾃｩ */
            --cor-secundaria: #8b5e34;  /* Marrom Mﾃｩdio */
            --cor-borda: #d4c7b2;        /* Bege acinzentado */
            --cor-texto-principal: #333;
            --cor-destaque-usuario: #4a784d; /* Verde Musgo */
            --cor-destaque-dev: #e0c29a;     /* Ocre/Bege Quente */
            --cor-erro: #cc0000; /* Cor Vermelha para Erro */
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 20px;
            background-color: var(--cor-background); 
            color: var(--cor-texto-principal);
        }
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background-color: #fff; 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); 
        }
        h1 { 
            text-align: center; 
            color: var(--cor-principal); 
            border-bottom: 2px solid var(--cor-borda); 
            padding-bottom: 10px;
        }
        h2, h3 { color: var(--cor-secundaria); }
        
        /* Container do Usuﾃ｡rio Comum */
        #user-login-highlight {
            padding: 25px;
            background-color: #e6f7e8; 
            border: 2px solid var(--cor-destaque-usuario);
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2); 
            margin-bottom: 30px;
        }

        /* Formulﾃ｡rio do Desenvolvedor (Menos Proeminente) */
        #login-form { 
            margin-top: 15px; 
            padding: 15px; 
            border: 1px dashed var(--cor-borda); 
            border-radius: 8px; 
            background-color: #ffffff;
            box-shadow: none; 
        }

        /* Campos de Input */
        #login-form input[type="text"], #login-form input[type="password"],
        #dev-panel input[type="text"], #dev-panel select, #item-file { 
            padding: 10px; 
            margin-bottom: 12px; 
            width: 100%; 
            box-sizing: border-box; 
            border: 1px solid var(--cor-borda);
            border-radius: 4px;
        }
        /* Botﾃ｣o de Arquivo */
        #item-file { padding: 5px; }

        /* Botﾃｵes */
        button { 
            padding: 10px 15px; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
            transition: background-color 0.3s, transform 0.2s;
        }
        /* Botﾃ｣o Grande (Usuﾃ｡rio Comum) */
        .user-login-button.large-button {
            padding: 18px 25px; 
            font-size: 1.2em; 
            font-weight: bold;
            width: 100%;
            margin: 0; 
        }
        .user-login-button:hover { background-color: #3b603e; transform: scale(1.02); }

        /* Botﾃ｣o de Aﾃｧﾃ｣o da Conscientizaﾃｧﾃ｣o */
        .video-action-button {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            font-weight: bold;
            background-color: #a4c9a7; 
            color: var(--cor-principal);
            margin: 25px 0;
            border: 2px solid var(--cor-destaque-usuario);
        }
        .video-action-button:hover {
            background-color: var(--cor-destaque-usuario);
            color: white;
        }
        /* Botﾃ｣o Desenvolvedor */
        #login-form button { 
            background-color: var(--cor-principal); 
            color: white; 
            width: 100%;
        }
        #login-form button:hover { background-color: #4a2f1c; }

        /* Botﾃｵes Sair e Aﾃｧﾃｵes Dev */
        #dev-panel button, #user-view button { 
            background-color: var(--cor-secundaria); 
            color: white;
        }
        #dev-panel button:hover, #user-view button:hover { background-color: var(--cor-principal); }
        
        /* Estilo dos Links/Arquivos */
        .file-item a { color: var(--cor-principal); text-decoration: none; font-weight: bold;}
        .file-item a:hover { text-decoration: underline; }
        .dev-info { font-size: 0.85em; color: var(--cor-secundaria); margin-top: 5px; }

        /* Visualizaﾃｧﾃ｣o do Usuﾃ｡rio */
        #user-view h2 { color: var(--cor-destaque-usuario); }
        .file-item { 
            border: 1px solid var(--cor-borda); 
            padding: 15px; 
            margin-bottom: 10px; 
            border-radius: 6px; 
            background-color: #fffaf0; 
        }
        .file-item img, .file-item video { max-width: 100%; height: auto; border-radius: 4px; margin-top: 10px; }
        
        /* Mensagem de Conscientizaﾃｧﾃ｣o */
        .message {
            font-size: 1em;
            text-align: justify;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            background-color: #ffffff;
            line-height: 1.5;
        }

        /* Semﾃ｡foro da Arqueologia */
        .semaforo-container {
            display: flex;
            justify-content: space-around;
            gap: 15px;
            margin: 30px 0;
            padding: 20px 0;
            border-top: 1px solid var(--cor-secundaria);
            border-bottom: 1px solid var(--cor-secundaria);
        }
        .semaforo-item {
            width: 30%; 
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            padding: 10px;
            font-size: 1.1em;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s;
        }
        .semaforo-item:hover {
             transform: translateY(-3px);
        }
        .semaforo-vermelho { background-color: #cc0000; } 
        .semaforo-amarelo { 
            background-color: #ffc400; 
            color: var(--cor-principal); 
            text-shadow: none;
        } 
        .semaforo-verde { background-color: var(--cor-destaque-usuario); } 

        /* Estilos para o Quiz */
        .quiz-container {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid var(--cor-secundaria); 
            border-radius: 8px;
            background-color: var(--cor-background); 
            text-align: left;
        }
        /* Estilos para o Painel de Vﾃｭdeos */
        .video-slot {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid var(--cor-borda);
            border-radius: 8px;
            background-color: #fff;
        }
        /* REMOVIDO: .video-slot p */
        .video-slot iframe {
            width: 100%;
            height: 315px; 
            border: none;
            border-radius: 4px;
        }
        
        /* Estilo Discreto para "Conteﾃｺdo em desenvolvimento" */
        .dev-status-tag {
            font-size: 0.9em;
            color: var(--cor-secundaria);
            text-align: center;
            margin-top: 5px;
            display: block;
        }

        /* Estilos de Quiz e Dev (mantidos) */
        .quiz-question {
            font-weight: bold;
            color: var(--cor-principal);
            margin-bottom: 15px;
            padding-top: 15px;
            border-top: 1px dotted var(--cor-borda);
        }
        .quiz-option {
            margin-bottom: 8px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
            border: 1px solid transparent;
        }
        .quiz-option:hover {
            background-color: #e0d9c9;
        }
        .quiz-result {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid var(--cor-borda);
            font-weight: bold;
            text-align: center;
        }
        .correct { 
            background-color: #e6f7e8; 
            color: var(--cor-destaque-usuario); 
            font-weight: bold;
        } 
        .incorrect { 
            background-color: #f7e6e6; 
            color: var(--cor-erro); 
        } 


        /* Painel do Desenvolvedor */
        #dev-panel { 
            margin-top: 20px; 
            padding: 20px; 
            border: 1px solid var(--cor-borda); 
            border-radius: 8px; 
            background-color: #ffffff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
        }
        .dev-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border: 1px solid var(--cor-destaque-dev); 
            padding: 10px; 
            margin-bottom: 10px; 
            border-radius: 6px; 
            background-color: var(--cor-destaque-dev); 
            color: var(--cor-principal);
        }
        .dev-item span strong { color: var(--cor-principal); }
        .dev-item > span { width: 70%; } 

        .folder-selector { margin-bottom: 20px; }
        .folder-selector button {
            background-color: var(--cor-borda);
            color: var(--cor-texto-principal);
            margin-right: 5px;
        }
        .folder-selector button.active {
            background-color: var(--cor-principal);
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cybercraft</h1>

        <div id="login-section" style="display: block;">
            
            <div id="user-login-highlight">
                <h2 style="text-align: center; color: var(--cor-destaque-usuario); margin-bottom: 15px;">Entre no Mundo dos Guardiﾃｵes da Histﾃｳria</h2>
                <button onclick="userLogin()" class="user-login-button large-button">
                    Entrar como Usuﾃ｡rio Comum (Visualizaﾃｧﾃ｣o)
                </button>
            </div>

            <p style="text-align: center; margin-top: 25px;">Ou acesse como</p>

            <div id="login-form">
                <h3>Login do Desenvolvedor</h3>
                <input type="text" id="username" placeholder="Usuﾃ｡rio">
                <input type="password" id="password" placeholder="Senha">
                <button onclick="developerLogin()">Entrar como Desenvolvedor</button>
            </div>
        </div>

        <div id="dev-panel" style="display: none;">
            <h2>Painel do Desenvolvedor (<span id="dev-name"></span>)</h2>
            
            <h3>Adicionar Novo Item</h3>
            <label for="item-folder">Pasta:</label>
            <select id="item-folder">
                <option value="projetos">Projetos</option>
                <option value="documentacao">Documentaﾃｧﾃ｣o</option>
                <option value="tutoriais">Tutoriais</option>
                <option value="midia">Mﾃｭdia</option>
                <option value="diversos">Diversos</option>
                <option value="conscientizacao">Conscientizaﾃｧﾃ｣o</option>
            </select><br><br>
            
            <label for="file-type">Tipo:</label>
            <select id="file-type" onchange="toggleInputType()">
                <option value="link">Link</option>
                <option value="foto">Foto</option>
                <option value="video">Vﾃｭdeo</option>
            </select><br><br>
            
            <label for="item-name">Nome do Item:</label>
            <input type="text" id="item-name" placeholder="Ex: Relatﾃｳrio Final" style="width: 100%; margin-bottom: 10px;"><br>
            
            <div id="dynamic-input-container">
                <label for="item-url">URL (Link):</label>
                <input type="text" id="item-url" placeholder="http://recurso.com/link" style="width: 100%; margin-bottom: 10px;">
            </div>
            
            <label>Visﾃｭvel para Usuﾃ｡rio?</label>
            <input type="checkbox" id="item-visible" checked><br><br>
            
            <button onclick="addItem()">Adicionar Item</button>

            <hr>

            <h3>Arquivos Gerenciﾃ｡veis por Pasta</h3>
            <div class="folder-selector" id="dev-folder-selector"></div>
            <div id="dev-file-list"></div>
            <button onclick="logout()">Sair</button>
        </div>

        <div id="user-view" style="display: none;">
            <h2>Visualizaﾃｧﾃ｣o do Usuﾃ｡rio</h2>
            <div class="folder-selector" id="user-folder-selector"></div>
            
            <div id="conscientizacao-view">
                <div id="user-file-list"></div>
            </div>

            <div id="video-tutorial-view" style="display: none;">
                <button onclick="returnToConscientizacao()" style="background-color: #ccc;"> &lt; Voltar para Conscientizaﾃｧﾃ｣o</button>
                <h2 style="color: var(--cor-destaque-usuario); margin-top: 20px; border-bottom: 2px solid var(--cor-borda); padding-bottom: 5px;">磁 Vﾃｭdeos Educativos Rﾃ｡pidos</h2>
                
                <span class="dev-status-tag">Conteﾃｺdo em desenvolvimento</span>
                
                <div class="video-slot">
                    <h3>1. Vﾃｭdeo sobre a Importﾃ｢ncia da Arqueologia</h3>
                    <iframe src="https://www.youtube.com/embed/VvK7q5N1X0Y" allowfullscreen></iframe>
                    </div>
                
                <div class="video-slot">
                    <h3>2. Como identificar um artefato</h3>
                    <iframe src="https://www.youtube.com/embed/VvK7q5N1X0Y" allowfullscreen></iframe>
                    </div>

                <div class="video-slot">
                    <h3>3. A Histﾃｳria de Salto</h3>
                    <iframe src="https://www.youtube.com/embed/VvK7q5N1X0Y" allowfullscreen></iframe>
                    </div>

                <button onclick="returnToConscientizacao()" style="background-color: #ccc;"> &lt; Voltar para Conscientizaﾃｧﾃ｣o</button>
            </div>


            <button onclick="logout()">Sair</button>
        </div>
    </div>

    <script>
        // --- Configuraﾃｧﾃｵes ---
        const DEVELOPERS = {
            "dev01": "123", "dev02": "456", "dev03": "789", 
            "dev04": "101", "dev05": "112", "dev06": "131", 
            "dev07": "415", "dev08": "161"
        };
        const FOLDERS = {
            "projetos": "Projetos", "documentacao": "Documentaﾃｧﾃ｣o", "tutoriais": "Tutoriais", 
            "midia": "Mﾃｭdia", "diversos": "Diversos",
            "conscientizacao": "Conscientizaﾃｧﾃ｣o"
        };
        
        let files = JSON.parse(localStorage.getItem('files')) || [];
        let currentUser = null; 
        let currentFolder = 'conscientizacao'; 
        let fileDataUrl = null; 

        // --- Adiciona a pﾃ｡gina de Conscientizaﾃｧﾃ｣o na primeira vez que o site ﾃｩ carregado ---
        if (files.length === 0) {
            files.push({
                name: "Guardiﾃｵes da Histﾃｳria (Arqueologia em Aﾃｧﾃ｣o)",
                url: "#", 
                type: "link",
                folder: "conscientizacao", 
                visible: true,
                developer: "dev01" 
            });
            localStorage.setItem('files', JSON.stringify(files));
        }
        // ---------------------------------------------------------------------------------

        // --- Funﾃｧﾃｵes Auxiliares ---

        function saveFiles() {
            localStorage.setItem('files', JSON.stringify(files));
        }

        function toggleInputType() {
            const type = document.getElementById('file-type').value;
            const container = document.getElementById('dynamic-input-container');
            
            if (type === 'link') {
                container.innerHTML = `
                    <label for="item-url">URL (Link):</label>
                    <input type="text" id="item-url" placeholder="http://recurso.com/link" style="width: 100%; margin-bottom: 10px;">
                `;
            } else {
                let acceptType = type === 'foto' ? 'image/' : 'video/';
                container.innerHTML = `
                    <label for="item-file">Carregar ${type.charAt(0).toUpperCase() + type.slice(1)}:</label>
                    <input type="file" id="item-file" accept="${acceptType}" onchange="handleFileUpload(event, '${type}')">
                `;
                fileDataUrl = null; 
            }
        }
        
        function handleFileUpload(event, type) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                fileDataUrl = e.target.result; 
                alert(Arquivo (${type}) carregado com sucesso! (Cuidado com arquivos grandes, estamos usando o armazenamento local!));
            };
            reader.readAsDataURL(file);
        }

        function changeFolder(folderKey) {
            currentFolder = folderKey;
            
            // Gerencia a visualizaﾃｧﾃ｣o de vﾃｭdeos/conscientizaﾃｧﾃ｣o ao mudar de pasta
            if (folderKey === 'conscientizacao' && document.getElementById('user-view').style.display === 'block') {
                document.getElementById('conscientizacao-view').style.display = 'block';
                document.getElementById('video-tutorial-view').style.display = 'none';
            } else if (document.getElementById('user-view').style.display === 'block') {
                 document.getElementById('conscientizacao-view').style.display = 'block';
                 document.getElementById('video-tutorial-view').style.display = 'none';
            }


            updateFolderSelector('dev');
            updateFolderSelector('user');
            
            if (document.getElementById('dev-panel').style.display === 'block') {
                renderDevPanel();
            } else if (document.getElementById('user-view').style.display === 'block') {
                renderUserView();
            }
        }

        function updateFolderSelector(view) {
            const selectorDiv = document.getElementById(${view}-folder-selector);
            selectorDiv.innerHTML = '';
            for (const key in FOLDERS) {
                const button = document.createElement('button');
                button.textContent = FOLDERS[key];
                button.setAttribute('onclick', changeFolder('${key}'));
                if (key === currentFolder) {
                    button.classList.add('active');
                }
                selectorDiv.appendChild(button);
            }
        }

        // --- Renderizaﾃｧﾃ｣o do Painel Dev ---

        function renderDevPanel() {
            const devList = document.getElementById('dev-file-list');
            devList.innerHTML = '';
            
            const filesInFolder = files.filter(file => file.folder === currentFolder);

            if (filesInFolder.length === 0) {
                devList.innerHTML = <p>Nenhum item na pasta "${FOLDERS[currentFolder]}" para gerenciar.</p>;
                return;
            }
            
            filesInFolder.forEach(file => {
                const item = document.createElement('div');
                item.className = 'dev-item';
                
                const originalIndex = files.findIndex(f => 
                    f.name === file.name && 
                    f.url === file.url && 
                    f.developer === file.developer && 
                    f.folder === file.folder
                );

                const visibilityText = file.visible ? 'Visﾃｭvel' : 'Oculto';
                
                item.innerHTML = `
                    <span>
                        <strong>[${file.type.toUpperCase()}]</strong> ${file.name}<br>
                        <span class="dev-info">Adicionado por: ${file.developer.toUpperCase()}</span> - ${visibilityText}
                    </span>
                    <div>
                        <button onclick="toggleVisibility(${originalIndex})">${file.visible ? 'Ocultar' : 'Tornar Visﾃｭvel'}</button>
                        <button onclick="deleteItem(${originalIndex})" style="background-color: var(--cor-erro);">Excluir</button>
                    </div>
                `;
                devList.appendChild(item);
            });
        }

        // --- Funﾃｧﾃｵes de Aﾃｧﾃ｣o (Desenvolvedor) ---
        
        function addItem() {
            const name = document.getElementById('item-name').value.trim();
            const type = document.getElementById('file-type').value;
            const folder = document.getElementById('item-folder').value; 
            const visible = document.getElementById('item-visible').checked;
            
            let url;

            if (type === 'link') {
                url = document.getElementById('item-url').value.trim();
            } else {
                url = fileDataUrl; 
            }

            if (name === '' || !url) {
                alert(Por favor, preencha o nome e ${type === 'link' ? 'a URL' : 'carregue o arquivo'}.);
                return;
            }

            files.push({
                name: name, url: url, type: type, folder: folder, visible: visible, developer: currentUser 
            });
            saveFiles();
            changeFolder(folder); 
            
            document.getElementById('item-name').value = '';
            if (type === 'link') { document.getElementById('item-url').value = ''; }
            document.getElementById('item-visible').checked = true;
            fileDataUrl = null; 
            toggleInputType(); 

            alert(Item adicionado com sucesso na pasta ${FOLDERS[folder]}!);
        }
        
        function toggleVisibility(index) {
            files[index].visible = !files[index].visible;
            saveFiles();
            renderDevPanel(); 
        }

        function deleteItem(index) {
            if (confirm(Tem certeza que deseja excluir o item: ${files[index].name}?)) {
                files.splice(index, 1);
                saveFiles();
                renderDevPanel();
                alert('Item excluﾃｭdo.');
            }
        }
        
        // --- Funﾃｧﾃｵes de Login, Logout e UserView ---
        
        function developerLogin() {
            const username = document.getElementById('username').value.toLowerCase().trim();
            const password = document.getElementById('password').value.trim();

            if (DEVELOPERS[username] && DEVELOPERS[username] === password) {
                currentUser = username;
                document.getElementById('dev-name').textContent = currentUser.toUpperCase();
                
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('user-view').style.display = 'none';
                document.getElementById('dev-panel').style.display = 'block';
                
                currentFolder = 'projetos';
                toggleInputType();
                updateFolderSelector('dev');
                renderDevPanel();
            } else {
                alert('Credenciais de Desenvolvedor Invﾃ｡lidas.');
            }
        }

        function userLogin() {
            currentUser = 'user';
            
            document.getElementById('login-section').style.display = 'none';
            document.getElementById('dev-panel').style.display = 'none';
            document.getElementById('user-view').style.display = 'block';
            
            currentFolder = 'conscientizacao'; 
            updateFolderSelector('user');
            
            document.getElementById('conscientizacao-view').style.display = 'block';
            document.getElementById('video-tutorial-view').style.display = 'none';
            
            renderUserView();
        }

        function logout() {
            currentUser = null;
            document.getElementById('login-section').style.display = 'block';
            document.getElementById('dev-panel').style.display = 'none';
            document.getElementById('user-view').style.display = 'none';

            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            
            currentFolder = 'conscientizacao'; 
            fileDataUrl = null; 
        }
        
        // FUNﾃﾃグ RENDERUSERVIEW
        function renderUserView() {
            const userList = document.getElementById('user-file-list');
            userList.innerHTML = '';

            if (currentFolder !== 'conscientizacao') {
                document.getElementById('conscientizacao-view').style.display = 'block';
                document.getElementById('video-tutorial-view').style.display = 'none'; 
            }
            
            const visibleFiles = files.filter(file => file.visible && file.folder === currentFolder);

            if (visibleFiles.length === 0) {
                userList.innerHTML = <p>Nenhum arquivo ou link visﾃｭvel na pasta "${FOLDERS[currentFolder]}".</p>;
                return;
            }
            
            visibleFiles.forEach(file => {
                const item = document.createElement('div');
                item.className = 'file-item';
                
                let contentHTML = `
                    <p>
                        <strong>[${file.type.toUpperCase()}]</strong> ${file.name}<br>
                        <span class="dev-info">Adicionado por: ${file.developer.toUpperCase()}</span>
                    </p>
                `;
                
                // RENDERIZAﾃﾃグ DA TELA DE CONSCIENTIZAﾃﾃグ, SEMﾃ：ORO E O QUIZ
                if (file.folder === 'conscientizacao' && file.name.includes("Guardiﾃｵes da Histﾃｳria")) {
                    contentHTML = `
                        <h2 style="color: var(--cor-principal); border-bottom: 2px solid var(--cor-borda); padding-bottom: 5px;">Conscientizaﾃｧﾃ｣o</h2>
                        <p class="dev-info" style="text-align: center;">Conteﾃｺdo em desenvolvimento</p>
                        <div class="message">
                            A Histﾃｳria de Salto estﾃ｡ em suas mﾃ｣os. Vocﾃｪ estﾃ｡ pronto para protegﾃｪ-la?
                            
                            Somos a equipe SESI Cybercraft e nosso Projeto de Inovaﾃｧﾃ｣o "Guardiﾃｵes da Histﾃｳria: Arqueologia em Aﾃｧﾃ｣o" nasceu de uma missﾃ｣o simples: reconectar Salto com seu prﾃｳprio passado.

                            Sua crianﾃｧa participou da nossa oficina e agora ﾃｩ uma *Guardiﾃ｣ do Passado!* Aqui, vocﾃｪ encontra o *Guia Completo da Arqueologia em Casa* com vﾃｭdeos rﾃ｡pidos, o Quiz de Conscientizaﾃｧﾃ｣o e a Regra de Ouro para preservar o patrimﾃｴnio.
                        </div>

                        <h3 style="text-align: center; color: var(--cor-principal); margin-top: 40px;">笞 Regra de Ouro: Semﾃ｡foro do Sﾃｭtio 笞</h3>
                        <div class="semaforo-container">
                            <div class="semaforo-item semaforo-vermelho">
                                VERMELHO: Nﾃグ TOQUE
                            </div>
                            <div class="semaforo-item semaforo-amarelo">
                                AMARELO: FOTOGRAFE
                            </div>
                            <div class="semaforo-item semaforo-verde">
                                VERDE: LIGUE (e avise as autoridades)
                            </div>
                        </div>
                        
                        <button onclick="showVideoPage()" class="video-action-button">
                            笆ｶ Ver Vﾃｭdeos
                        </button>
                        
                        <div class="quiz-container">
                            <h3>Quiz: Guardiﾃｵes Da Historia </h3>
                            <div id="quiz-content"></div>
                            <div class="quiz-result" id="quiz-result"></div>
                        </div>
                    `;
                    // Assegura que o Quiz seja carregado depois que o HTML for renderizado
                    setTimeout(loadQuiz, 0); 
                } 
                // Renderizaﾃｧﾃ｣o normal para outros arquivos
                else if (file.type === 'link' || file.type === 'foto' || file.type === 'video') {
                    if (file.type === 'link') {
                        contentHTML += <a href="${file.url}" target="_blank">Acessar Recurso</a>;
                    } else if (file.type === 'foto') {
                        if (file.url.startsWith('data:image')) {
                            contentHTML += <img src="${file.url}" alt="${file.name}">;
                        } else {
                            contentHTML += <a href="${file.url}" target="_blank">Visualizar Foto (Link Externo)</a>;
                        }
                    } else if (file.type === 'video') {
                        if (file.url.startsWith('data:video')) {
                            contentHTML += <video controls src="${file.url}"></video>;
                        } else {
                            contentHTML += <a href="${file.url}" target="_blank">Assistir Vﾃｭdeo (Link Externo)</a>;
                        }
                    }
                }
                
                item.innerHTML = contentHTML;
                userList.appendChild(item);
            });
        }
        
        // --- NOVAS FUNﾃﾃ髭S DE NAVEGAﾃﾃグ DE Vﾃ好EOS ---

        function showVideoPage() {
            document.getElementById('conscientizacao-view').style.display = 'none';
            document.getElementById('video-tutorial-view').style.display = 'block';
            window.scrollTo(0, 0); 
        }

        function returnToConscientizacao() {
            document.getElementById('video-tutorial-view').style.display = 'none';
            document.getElementById('conscientizacao-view').style.display = 'block';
        }


        // --- Funﾃｧﾃｵes do Quiz de Arqueologia (Completadas) ---

        const QUIZ_QUESTIONS = [
            {
                question: "1. Qual ﾃｩ o trabalho principal do arqueﾃｳlogo?",
                options: ["A) Construir casas.", "B) Estudar coisas antigas que os humanos deixaram (como panelas e ferramentas).", "C) Cuidar de animais na floresta."],
                answerIndex: 1 
            },
            {
                question: "2. O que sﾃ｣o os 'vestﾃｭgios' que o arqueﾃｳlogo procura?",
                options: ["A) Pedaﾃｧos de gelo.", "B) Coisas que contam a histﾃｳria das pessoas, como ossos, pinturas e objetos.", "C) Frutas da estaﾃｧﾃ｣o."],
                answerIndex: 1
            },
            {
                question: "3. Como chamamos o lugar onde os arqueﾃｳlogos fazem escavaﾃｧﾃｵes para encontrar objetos?",
                options: ["A) Praﾃｧa de alimentaﾃｧﾃ｣o.", "B) Sﾃｭtio Arqueolﾃｳgico.", "C) Campo de futebol."],
                answerIndex: 1
            },
            {
                question: "4. Se vocﾃｪ achar uma ponta de flecha muito antiga, isso ﾃｩ um tipo de quﾃｪ?",
                options: ["A) Um lixo moderno.", "B) Um brinquedo novo.", "C) Um artefato (um objeto feito por humanos no passado)."],
                answerIndex: 2
            },
            {
                question: "5. Que ferramenta o arqueﾃｳlogo usa para cavar com muito cuidado?",
                options: ["A) Um trator grande.", "B) Pincﾃｩis pequenos e colheres.", "C) Uma mﾃ｡quina de lavar."],
                answerIndex: 1
            }
        ];

        let currentQuestionIndex = 0; 
        let correctAnswers = 0;
        let quizFinished = false; 

        function loadQuiz() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            quizFinished = false;
            renderQuestion();
            document.getElementById('quiz-result').textContent = 'Responda as 5 perguntas!';
        }

        function renderQuestion() {
            const quizDiv = document.getElementById('quiz-content');
            if (!quizDiv) return;

            if (quizFinished) {
                quizDiv.innerHTML = '<p style="font-weight: bold;">笨 Parabﾃｩns! Vocﾃｪ completou o Quiz!</p><p>Sua pontuaﾃｧﾃ｣o final estﾃ｡ abaixo.</p>';
                document.getElementById('quiz-result').innerHTML = `
                    <span style="font-size: 1.2em;">Resultado: ${correctAnswers} de ${QUIZ_QUESTIONS.length} corretas.</span>
                    <br><button onclick="loadQuiz()" style="margin-top: 15px;">Tentar Novamente</button>
                `;
                return;
            }

            const q = QUIZ_QUESTIONS[currentQuestionIndex];
            quizDiv.innerHTML = ''; 

            const questionDiv = document.createElement('div');
            questionDiv.className = 'quiz-question';
            questionDiv.innerHTML = q.question;
            
            q.options.forEach((option, oIndex) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'quiz-option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => checkAnswer(oIndex, optionDiv); 
                questionDiv.appendChild(optionDiv);
            });

            quizDiv.appendChild(questionDiv);
            document.getElementById('quiz-result').textContent = Pergunta ${currentQuestionIndex + 1} de ${QUIZ_QUESTIONS.length};
        }

        function checkAnswer(selectedIndex, element) {
            const q = QUIZ_QUESTIONS[currentQuestionIndex];
            const isCorrect = selectedIndex === q.answerIndex;

            // Desabilita cliques em todas as opﾃｧﾃｵes
            Array.from(element.parentElement.querySelectorAll('.quiz-option')).forEach(opt => {
                opt.onclick = null;
                opt.style.cursor = 'default';
            });

            // Adiciona a classe de cor correta/incorreta
            Array.from(element.parentElement.querySelectorAll('.quiz-option')).forEach((opt, idx) => {
                if (idx === q.answerIndex) {
                    opt.classList.add('correct');
                } else if (idx === selectedIndex && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                correctAnswers++;
            }

            currentQuestionIndex++;

            // Passa para a prﾃｳxima pergunta ou finaliza o quiz
            setTimeout(() => {
                if (currentQuestionIndex < QUIZ_QUESTIONS.length) {
                    renderQuestion();
                } else {
                    quizFinished = true;
                    renderQuestion();
                }
            }, 1500); 
        }
        
        // Inicializa o seletor de pastas ao carregar
        document.addEventListener('DOMContentLoaded', () => {
            currentFolder = 'conscientizacao';
            // Apenas para garantir que o selector estﾃ｡ correto na inicializaﾃｧﾃ｣o
            updateFolderSelector('dev'); 
            updateFolderSelector('user');
            toggleInputType();
        });
    </script>
</body>
</html>
